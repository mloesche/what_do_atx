# =============================================================================
# WHAT DO ATX - BACKEND API ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in the actual values for local development

# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3001
LOG_LEVEL=debug

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (Render Managed PostgreSQL)
# -----------------------------------------------------------------------------
# Format: postgresql://username:password@hostname:port/database_name
DATABASE_URL=postgresql://what_do_atx_user:password@localhost:5432/what_do_atx
DATABASE_SSL=false
DATABASE_MAX_CONNECTIONS=20

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------
# JWT Secret (generate with: openssl rand -base64 32)
JWT_SECRET=your-super-secret-jwt-key-here
JWT_EXPIRES_IN=7d

# Google OAuth Credentials
GOOGLE_OAUTH_CLIENT_ID=your-google-client-id
GOOGLE_OAUTH_CLIENT_SECRET=your-google-client-secret
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:3000/auth/callback

# -----------------------------------------------------------------------------
# EXTERNAL API INTEGRATIONS
# -----------------------------------------------------------------------------
# OpenAI API for embeddings and chat
OPENAI_API_KEY=sk-your-openai-api-key

# Eventbrite API
EVENTBRITE_API_KEY=your-eventbrite-api-key
EVENTBRITE_ORG_ID=your-eventbrite-org-id

# Do512 (if needed for scraping)
DO512_API_URL=https://do512.com/api
DO512_RATE_LIMIT=60

# -----------------------------------------------------------------------------
# CORS & FRONTEND CONFIGURATION
# -----------------------------------------------------------------------------
CORS_ORIGIN=http://localhost:3000
FRONTEND_URL=http://localhost:3000

# Additional allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,https://what-do-atx.vercel.app

# -----------------------------------------------------------------------------
# RATE LIMITING & PERFORMANCE
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
REQUEST_TIMEOUT_MS=30000

# -----------------------------------------------------------------------------
# MONITORING & LOGGING
# -----------------------------------------------------------------------------
# Sentry DSN for error tracking (optional)
SENTRY_DSN=your-sentry-dsn-url

# Log file paths (relative to backend root)
LOG_ERROR_FILE=logs/error.log
LOG_COMBINED_FILE=logs/combined.log

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
ENABLE_CHAT=true
ENABLE_RECOMMENDATIONS=true
ENABLE_EVENT_SCRAPING=true
ENABLE_VECTOR_SEARCH=true
ENABLE_GEOLOCATION=true

# -----------------------------------------------------------------------------
# DEPLOYMENT CONFIGURATION (Render Specific)
# -----------------------------------------------------------------------------
# These are typically set in Render dashboard, not in .env
# RENDER_SERVICE_ID=srv-xyz
# RENDER_GIT_COMMIT=abc123
# RENDER_SERVICE_NAME=what-do-atx-api 